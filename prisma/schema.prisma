generator client {
  provider = "prisma-client-js"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

enum LibraryType {
  Movies
  TvShows
  Music
  Other
}

model Library {
  id        String      @id @default(cuid())
  name      String
  path      String
  type      LibraryType

  files     File[]

  createdAt DateTime    @default(now())
  updatedAt DateTime    @updatedAt
}

model File {
  id        String      @id @default(cuid())

  filePath  String      @unique
  fileSize  BigInt
  fileType  String

  videoCodec String?
  videoWidth Int?
  videoHeight Int?

  audioCodec String?

  disableProbe Boolean  @default(false)

  libraryId String?
  library   Library?    @relation(fields: [libraryId], references: [id])

  createdAt DateTime    @default(now())
  updatedAt DateTime    @updatedAt
}
